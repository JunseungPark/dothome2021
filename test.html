<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>

var requestOptions = {
  method: 'GET',
  redirect: 'follow',
  mode: 'cors'
};

const proxyURL = 'https://corsanywhere.herokuapp.com/';
const reqType = {
  bootstrap : 'bootstrap-static/', //Overview
  element : 'element-summary/', //Players (playderID)
  events : 'events', // Get all gameweeks
  event : 'event',  //A selected gameweek
  entry : 'entry', //Get a team
  elementTypes: 'element-types', // Get all player positions
  gameweekFixtures: 'fixtures/?event', //Get all fixtures for a specified gameweek (gameweek number)
  teams: 'teams/', //Get all teams,
  leagueClassicStanding: 'leagues-classic/' //Get league standing at current gameweek.
}

async function fetchExam() {
  try {
      // const response = await fetch(`${proxyURL}https://fantasy.premierleague.com/api/bootstrap-static/`, requestOptions);
      const response = await fetch(`${proxyURL}https://fantasy.premierleague.com/api/element-summary/4/`, requestOptions);
      // const response = await fetch(`${proxyURL}https://fantasy.premierleague.com/api/bootstrap-static/element-summary/59966`, requestOptions);
      // const response = await fetch(`${proxyURL}https://fantasy.premierleague.com/api/entry/1/`, requestOptions);
      // const response = await fetch(`${proxyURL}https://fantasy.premierleague.com/api/fixtures/?event=1`, requestOptions);
      // const response = await fetch(`${proxyURL}https://fantasy.premierleague.com/api/fixtures/?event=1`, requestOptions);
      const exam = await response.json();
      return exam;
  } catch (error) {
      console.error(error);
  }
}

async function renderExam() {
    const exam = await fetchExam();
    console.log(exam);
    // document.write(exam.elements[0].team);

    // dataP(exam)
}

renderExam();

function dataP(data1) {
  let data = data1.elements;
  for (let result of data) {
      if(result.team == 1) {
        // document.write(result.id);
        // document.write("<br>");
        // document.write(result.web_name);
        // document.write("<br>");
        // document.write(result.first_name);
        // document.write("<br>");
        // document.write(result.assists);
        // document.write("<br>");
        // document.write(result.creativity);
        // document.write("<br>");
        // document.write(result.goals_scored);
        // document.write("<br>");
        // document.write(result.goals_conceded);
        // document.write(result.influence);
        // document.write(result.points_per_game);
        // document.write(result.red_cards);
        // document.write(result.saves);
        // document.write(result.yellow_cards);
        // document.write(result.total_points);
      }
      // document.write("<br>");
  };
  // 랜덤숫자뽑기
  function randomNum(min, max){ 
    var randNum = Math.floor(Math.random()*(max-min+1)) + min; 
    return randNum;
  }
} 

</script>
</html>